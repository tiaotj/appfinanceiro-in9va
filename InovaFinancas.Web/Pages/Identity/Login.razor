@page "/login"
@layout HeadlessLayout
@inherits LoginPage

<PageTitle>Inova Finanças - Entrar</PageTitle>

<MudGrid Justify="Justify.Center">
	<MudItem xs="12" sm="12" md="8" lg="6" xl="6" xxl="6">
		<MudPaper Elevation="10" Class="mud-width-full pa-6">
			<div class="d-flex justify-center pb-0 pt-8">
				<img src="Imgs/logo.png" alt="Inova - Controle Financeiro" width="130" />
			</div>
			<EditForm Model="@InputModel" OnValidSubmit="OnValidSubmitAsync">
				<DataAnnotationsValidator />
				@* <ValidationSummary/> *@
				<MudTextField T="string" Label="E-mail" Required="true" RequiredError="Informe o E-mail"
							  Validation="@(new EmailAddressAttribute {ErrorMessage = "E-mail inválido"} )"
							  InputType="InputType.Email" HelperText="Campo obrigatório"
							  For="@(()=>InputModel.Email)"
							  @bind-Value=InputModel.Email />

				<MudTextField T="string" Label="Senha" Required="true" RequiredError="Informe o E-mail"
							  Validation="@(new EmailAddressAttribute {ErrorMessage = "E-mail inválido"} )"
							  InputType="InputType.Password" HelperText="Campo obrigatório"
							  For="@(()=>InputModel.Password)"
							  @bind-Value=InputModel.Password />

				<div class="d-flex mt-8">
					@if (IsBusy)
					{
						<MudProgressCircular Color="Color.Info" Indeterminate="true" />
					}
					else
					{
						<MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary">Entrar</MudButton>
						<MudSpacer />
						<MudButton Href="/comecar" Variant="Variant.Filled" Color="Color.Primary">Quero me cadastrar</MudButton>
					}
				</div>
			</EditForm>

		</MudPaper>
	</MudItem>
</MudGrid>

@code {

	MudForm? _mudForm;

}
