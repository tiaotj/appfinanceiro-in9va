@page "/checkout/{slug}"
@inherits CheckoutPage

<MudContainer Class="mt-16 " MaxWidth="MaxWidth.Medium">
	<MudText Typo="Typo.h3" Align="Align.Center" GutterBottom="true">Checkout</MudText>
	<MudGrid Class="mt-16" Justify="Justify.Center">
		<MudItem xs="12" sm="12" md="10" lg="8" xl="6" xxl="5">
			<MudPaper class="d-flex flex-column" Outlined="true">
				<MudList T="string">
					<MudListItem Icon="@Icons.Material.Filled.Star" >
						<MudText >@Produto?.Titulo</MudText>
						<MudText Inline="true" class="ml-auto">@Produto?.Valor.ToString("C")</MudText>
					</MudListItem>
					<MudDivider/>
					<MudListItem Icon="@(Voucher is null ? Icons.Material.Filled.Discount : Icons.Material.Filled.CheckCircle)">
						<MudTextField T="string" Disabled="@(Voucher is not null)" Placeholder="Cupom de Desconto" @bind-Value="VoucherNumero"
								Mask="Mask" Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.FactCheck" ></MudTextField>
						</MudListItem>
						<MudListItem Icon="@Icons.Material.Filled.MoneyOff">
							<div class="d-flex">
								<MudText>Desconto</MudText>
								<MudText class="mt-auto">@(Voucher?.Valor.ToString("C"))</MudText>
							</div>
						</MudListItem>
					<MudDivider />
					<div class="mt-auto pa-4" >
						<MudText>Total:</MudText>
						<MudText class="ml-auto">
							<strong>
								@Total.ToString("C")
							</strong>
						</MudText>
					</div>
				</MudList>
			</MudPaper>
			<MudButton Variant="Variant.Filled" Color="Color.Primary" Disabled="@(!IsValid)"
					Size="Size.Large" class="mt-6" FullWidth="true" OnClick="OnValidSubmitAsync">Finalizar Pedido</MudButton>
		</MudItem>
	</MudGrid>
</MudContainer>
